"use strict";var data={},oldhash="";window.onload=function(){function a(b,c,d){var e=new XMLHttpRequest,c="https://raw.githubusercontent.com/"+c;e.responseType="json",e.onload=function(){200===this.status?("boards"===b?data.boards=this.response.boards:data[b]=this.response,d()):setTimeout(function(){a(b,c)},1e3)},e.open("GET",c),e.send()}a("archives","MayhemYDG/archives.json/gh-pages/archives.json",function(){a("boards","Floens/ChanTracking/master/api/boards.json",function(){function c(){a.className="header hidden",b.className="page-content",b.innerHTML=""}function d(a){b.innerHTML='<h1 class="error"><i>wew</i></h1><h4 class="center greentext error">>'+a+"</h4>"}function e(){var a=document.createElement("div");return a.className="mdl-card mdl-shadow--2dp",a}function f(a,b){var c=["","://"+a.domain];if(a.http&&(c[0]="http"),a.https&&(c[0]="https"),""!==c[0]){c=c.join("");var d=e();d.className+=" archive-card",d.style="background-image: url(https://www.4chan.org/favicon.ico)",d.innerHTML='<div class="mdl-card__title mdl-card--expand"></div><div class="mdl-card__actions mdl-card--border"><span class="archive-card__name">'+a.name+'</span><div class="mdl-layout-spacer"></div>'+(b?'<i class="material-icons">&#xE251;</i>':"")+"</div>";var f=new Image;return f.src=c+"/favicon.ico",f.onload=function(){d.style="background-image: url("+c+"/favicon.ico)"},[c,d]}return""}function g(a){return console.log("made renderarchive function for "+a),function(b){return console.log("called renderarchive function for "+a),f(b,b.files.indexOf(a)>-1)}}function h(a){return f(a,!1)}function i(b){a.innerText=b,a.className="header"}function j(a){var a=a.join(""),b=data.boards.filter(function(b){return b.board===a});1===b.length?(b=b[0],i("/"+b.board+"/ - "+b.title),k(data.archives.filter(function(b){return b.boards.indexOf(a)>-1||b.files.indexOf(a)>-1}),g(a))):d("unknown board /"+a+"/")}function k(a,c){a.map(c).forEach(function(a){var c=a[0],a=a[1],d=document.createElement("a");d.classList.add("link"),d.href=c,d.appendChild(a),b.appendChild(d)})}function l(){data.boards.map(function(a){var b=e();return b.classList.add("board-card"),b.innerHTML="<h2>/"+a.board+"/</h2>",b=b.outerHTML,'<a class="link" href="#board#'+a.board+'">'+b+"</a>"}).forEach(function(a){b.innerHTML+=a})}var a=document.querySelector(".header"),b=document.querySelector(".page-content");c(),window.onhashchange=function(){console.log("Hash changed!");var a=window.location.hash.slice(1);if(a!==oldhash){c();var d=a.split("#"),e=d.shift();switch(b.classList.add(e),e){case"archives":k(data.archives,h);break;case"board":j(d);break;case"boards":l()}}oldhash=a},""===window.location.hash&&(window.location.hash="#boards"),window.onhashchange()})})};